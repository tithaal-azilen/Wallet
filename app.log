2026-02-27T11:50:48.362+05:30  INFO 167011 --- [Wallet] [main] c.T.W.i.EmailNotificationIntegrationTest : Starting EmailNotificationIntegrationTest using Java 17.0.18 with PID 167011 (started by tithaal.sheth in /home/tithaal.sheth/Desktop/SpringProjects/wallet 2.0/Wallet)
2026-02-27T11:50:48.370+05:30  INFO 167011 --- [Wallet] [main] c.T.W.i.EmailNotificationIntegrationTest : The following 1 profile is active: "test"
2026-02-27T11:50:49.784+05:30  INFO 167011 --- [Wallet] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-27T11:50:49.900+05:30  INFO 167011 --- [Wallet] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 101 ms. Found 5 JPA repository interfaces.
2026-02-27T11:50:52.368+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-27T11:50:52.514+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-27T11:50:53.145+05:30  INFO 167011 --- [Wallet] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-27T11:50:53.207+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-27T11:50:53.807+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@362fd4e9
2026-02-27T11:50:53.812+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-27T11:50:53.896+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-27T11:50:53.951+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/springboot_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 16.11
	Default catalog/schema: springboot_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-27T11:50:55.650+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-27T11:50:55.762+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.jdbc.warn              : HHH000247: ErrorCode: 0, SQLState: 00000
2026-02-27T11:50:55.763+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.jdbc.warn              : constraint "uko2mlirhldriil2y7krapq4frt" of relation "refresh_tokens" does not exist, skipping
2026-02-27T11:50:55.770+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.jdbc.warn              : HHH000247: ErrorCode: 0, SQLState: 00000
2026-02-27T11:50:55.770+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.jdbc.warn              : constraint "uk7tdcd6ab5wsgoudnvj7xf1b7l" of relation "refresh_tokens" does not exist, skipping
2026-02-27T11:50:55.826+05:30  INFO 167011 --- [Wallet] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-27T11:50:56.097+05:30  INFO 167011 --- [Wallet] [main] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-27T11:50:57.674+05:30  INFO 167011 --- [Wallet] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-27T11:50:58.266+05:30  WARN 167011 --- [Wallet] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-27T11:50:59.907+05:30  INFO 167011 --- [Wallet] [main] c.T.W.i.EmailNotificationIntegrationTest : Started EmailNotificationIntegrationTest in 12.023 seconds (process running for 14.204)
2026-02-27T11:50:59.912+05:30  WARN 167011 --- [Wallet] [main] o.s.core.events.SpringDocAppInitializer  : SpringDoc /v3/api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-27T11:50:59.912+05:30  WARN 167011 --- [Wallet] [main] o.s.core.events.SpringDocAppInitializer  : SpringDoc /swagger-ui.html endpoint is enabled by default. To disable it in production, set the property 'springdoc.swagger-ui.enabled=false'
2026-02-27T11:50:59.969+05:30  INFO 167011 --- [Wallet] [main] c.T.W.l.NotificationEventListener        : Handling FeeDeductedEvent for walletId: 1
2026-02-27T11:51:00.030+05:30  INFO 167011 --- [Wallet] [main] c.T.W.l.NotificationEventListener        : Handling WalletCreatedEvent for walletId: 1
2026-02-27T11:51:00.558+05:30  INFO 167011 --- [Wallet] [main] c.T.Wallet.service.FeeDeductionService   : Starting monthly fee deduction process for date: 2026-02-27
2026-02-27T11:51:00.583+05:30  INFO 167011 --- [Wallet] [main] c.T.Wallet.service.FeeDeductionService   : Deducted fee for wallet 1. New Balance: 50.0
2026-02-27T11:51:00.584+05:30  INFO 167011 --- [Wallet] [main] c.T.Wallet.service.FeeDeductionService   : Completed monthly fee deduction process.
2026-02-27T11:51:00.594+05:30  INFO 167011 --- [Wallet] [main] c.T.Wallet.service.FeeDeductionService   : Deducted fee for wallet 1. New Balance: 50.0
2026-02-27T11:51:00.604+05:30  INFO 167011 --- [Wallet] [main] c.T.Wallet.service.FeeDeductionService   : Skipped fee deduction for wallet 1 due to insufficient funds (Balance: 10.0)
2026-02-27T11:51:01.129+05:30  INFO 167011 --- [Wallet] [main] c.T.W.s.impl.OrganizationServiceImpl     : Validating admin ownership for orgId: 1 and adminId: 1
2026-02-27T11:51:01.147+05:30  INFO 167011 --- [Wallet] [main] c.T.W.s.impl.OrganizationServiceImpl     : Validating admin ownership for orgId: 1 and adminId: 2
2026-02-27T11:51:01.159+05:30  INFO 167011 --- [Wallet] [main] c.T.W.s.impl.OrganizationServiceImpl     : Validating admin ownership for orgId: 1 and adminId: 1
2026-02-27T11:51:01.554+05:30  INFO 167011 --- [Wallet] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2026-02-27T11:51:01.555+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-27T11:51:01.557+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2026-02-27T11:51:01.917+05:30  WARN 167011 --- [Wallet] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.Tithaal.Wallet.controller.AuthController.register(com.Tithaal.Wallet.dto.RegisterDto): [Field error in object 'registerDto' on field 'username': rejected value [invalid user]; codes [Pattern.registerDto.username,Pattern.username,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.username,username]; arguments []; default message [username],[Ljakarta.validation.constraints.Pattern$Flag;@6797120c,^[a-zA-Z0-9]+$]; default message [Username must be alphanumeric]] ]
2026-02-27T11:51:01.946+05:30  INFO 167011 --- [Wallet] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2026-02-27T11:51:01.947+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-27T11:51:01.947+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2026-02-27T11:51:01.963+05:30  WARN 167011 --- [Wallet] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.Tithaal.Wallet.controller.AuthController.register(com.Tithaal.Wallet.dto.RegisterDto): [Field error in object 'registerDto' on field 'city': rejected value []; codes [NotBlank.registerDto.city,NotBlank.city,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.city,city]; arguments []; default message [city]]; default message [City is required]] ]
2026-02-27T11:51:01.990+05:30  INFO 167011 --- [Wallet] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2026-02-27T11:51:01.990+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-27T11:51:01.991+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2026-02-27T11:51:02.008+05:30  WARN 167011 --- [Wallet] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.Tithaal.Wallet.controller.AuthController.register(com.Tithaal.Wallet.dto.RegisterDto) with 2 errors: [Field error in object 'registerDto' on field 'email': rejected value [invalid-email]; codes [Pattern.registerDto.email,Pattern.email,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@6797120c,^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$]; default message [Invalid email format]] [Field error in object 'registerDto' on field 'email': rejected value [invalid-email]; codes [Email.registerDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@2224628d,.*]; default message [provide valid email]] ]
2026-02-27T11:51:02.030+05:30  INFO 167011 --- [Wallet] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2026-02-27T11:51:02.030+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-27T11:51:02.031+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2026-02-27T11:51:02.050+05:30  WARN 167011 --- [Wallet] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.Tithaal.Wallet.controller.AuthController.register(com.Tithaal.Wallet.dto.RegisterDto): [Field error in object 'registerDto' on field 'phoneNumber': rejected value [12345]; codes [Pattern.registerDto.phoneNumber,Pattern.phoneNumber,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerDto.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],[Ljakarta.validation.constraints.Pattern$Flag;@6797120c,^\d{10}$]; default message [Phone number must be 10 digits]] ]
2026-02-27T11:51:02.077+05:30  INFO 167011 --- [Wallet] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2026-02-27T11:51:02.078+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-27T11:51:02.079+05:30  INFO 167011 --- [Wallet] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2026-02-27T11:51:02.126+05:30  INFO 167011 --- [Wallet] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.Tithaal.Wallet.WalletApplicationTests]: WalletApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-27T11:51:02.153+05:30  INFO 167011 --- [Wallet] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.Tithaal.Wallet.WalletApplication for test class com.Tithaal.Wallet.WalletApplicationTests
2026-02-27T11:51:02.243+05:30  INFO 167011 --- [Wallet] [main] c.Tithaal.Wallet.WalletApplicationTests  : Starting WalletApplicationTests using Java 17.0.18 with PID 167011 (started by tithaal.sheth in /home/tithaal.sheth/Desktop/SpringProjects/wallet 2.0/Wallet)
2026-02-27T11:51:02.244+05:30  INFO 167011 --- [Wallet] [main] c.Tithaal.Wallet.WalletApplicationTests  : No active profile set, falling back to 1 default profile: "default"
2026-02-27T11:51:02.800+05:30  INFO 167011 --- [Wallet] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-27T11:51:02.830+05:30  INFO 167011 --- [Wallet] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 5 JPA repository interfaces.
2026-02-27T11:51:03.145+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-27T11:51:03.208+05:30  INFO 167011 --- [Wallet] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-27T11:51:03.211+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-02-27T11:51:03.273+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@327fc965
2026-02-27T11:51:03.273+05:30  INFO 167011 --- [Wallet] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-02-27T11:51:03.279+05:30  WARN 167011 --- [Wallet] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-27T11:51:03.284+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/springboot_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 16.11
	Default catalog/schema: springboot_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-27T11:51:03.403+05:30  INFO 167011 --- [Wallet] [main] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-27T11:51:03.476+05:30  INFO 167011 --- [Wallet] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-27T11:51:03.796+05:30  INFO 167011 --- [Wallet] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-27T11:51:04.177+05:30  WARN 167011 --- [Wallet] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-27T11:51:05.178+05:30  INFO 167011 --- [Wallet] [main] c.Tithaal.Wallet.WalletApplicationTests  : Started WalletApplicationTests in 3.01 seconds (process running for 19.475)
2026-02-27T11:51:05.180+05:30  WARN 167011 --- [Wallet] [main] o.s.core.events.SpringDocAppInitializer  : SpringDoc /v3/api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-27T11:51:05.181+05:30  WARN 167011 --- [Wallet] [main] o.s.core.events.SpringDocAppInitializer  : SpringDoc /swagger-ui.html endpoint is enabled by default. To disable it in production, set the property 'springdoc.swagger-ui.enabled=false'
2026-02-27T11:51:05.215+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-27T11:51:05.219+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-27T11:51:05.232+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-27T11:51:05.241+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-27T11:51:05.242+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-02-27T11:51:05.251+05:30  INFO 167011 --- [Wallet] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
